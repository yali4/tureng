!function(){function a(){this.button=TurengHelper.createElement("a",{"class":b.button,href:""}),this.icon=TurengHelper.createElement("img",{"class":b.icon,src:c}),this.icon.onload=function(){this.style.width=this.naturalWidth+"px",this.style.height=this.naturalHeight+"px"},this.button.appendChild(this.icon),document.body.appendChild(this.button)}var b={button:"translate-button",visible:"visible-translate-button",icon:"translate-button-icon"},c=chrome.extension.getURL("icons/24x24.png");a.prototype.getContext=function(){return this.button},a.prototype.hide=function(){return this.button.classList.remove(b.visible),this},a.prototype.show=function(){return this.button.classList.add(b.visible),this},a.prototype.move=function(a){var b=Array.prototype.slice.call(a).pop(),c=window.scrollY+b.top,d=window.scrollX+b.left+b.width+10,e=this.button.offsetHeight;return e>b.height?c-=Math.round((e-b.height)/2):b.height>e&&(c+=Math.round((b.height-e)/2)),this.button.style.top=c+"px",this.button.style.left=d+"px",this},window.TurengButton=a}(),function(){function a(){this.container=TurengHelper.createElement("div",{"class":b.container})}var b={container:"translate-dialog-container",loading:"translate-dialog-loading",message:"translate-dialog-message"},c=chrome.extension.getURL("images/loading.gif");a.prototype.getContext=function(){return this.container},a.prototype.loading=function(){this.empty();var a=TurengHelper.createElement("img",{"class":b.loading,src:c});return this.container.appendChild(a),this},a.prototype.message=function(a){this.empty();var c=TurengHelper.createElement("strong",{"class":b.message,html:a});return this.container.appendChild(c),this},a.prototype.appendTo=function(a){a.appendChild(this.container)},a.prototype.remove=function(){TurengHelper.removeElement(this.container)},a.prototype.empty=function(){TurengHelper.removeChildren(this.container)},window.TurengDialog=a}(),function(){var a={createElement:function(a,b){var c=document.createElement(a);if(void 0!==b){"html"in b&&(c.innerHTML=b.html,delete b.html);for(var d in b)c.setAttribute(d,b[d])}return c},removeChildren:function(a){for(;a.firstChild;)a.removeChild(a.firstChild);return a},removeElement:function(a){a.parentNode&&a.parentNode.removeChild(a)}};window.TurengHelper=a}(),function(){function a(){this.modal=TurengHelper.createElement("div",{"class":b.modal}),this.header=TurengHelper.createElement("div",{"class":b.header}),this.image=TurengHelper.createElement("img",{"class":b.image,src:c}),this.image.onload=function(){this.style.width=this.naturalWidth+"px",this.style.height=this.naturalHeight+"px"},this.header.appendChild(this.image),this.title=TurengHelper.createElement("div",{"class":b.title,html:""}),this.header.appendChild(this.title),this.modal.appendChild(this.header),this.content=TurengHelper.createElement("div",{"class":b.content}),this.modal.appendChild(this.content)}var b={modal:"translate-modal-container",header:"translate-modal-header",content:"translate-modal-content",image:"translate-modal-image",title:"translate-modal-title"},c=chrome.extension.getURL("images/tureng.png");a.prototype.getContext=function(){return this.modal},a.prototype.renderTitle=function(a,b){this.title.innerHTML="&ldquo;"+a+"&rdquo; teriminin sözlükteki anlamları: "+b+" sonuç"},a.prototype.renderRow=function(a,b){var c=TurengHelper.createElement("div",{"class":"translate-table-row"}),a=TurengHelper.createElement("div",{"class":"translate-order-column",html:a});c.appendChild(a);var d=TurengHelper.createElement("div",{"class":"translate-first-column",html:b.first});c.appendChild(d);var e=TurengHelper.createElement("div",{"class":"translate-second-column",html:b.second});c.appendChild(e);var f=TurengHelper.createElement("div",{"class":"translate-purpose-column",html:b.purpose});return c.appendChild(f),c},a.prototype.renderContent=function(a){var b=this;a.forEach(function(a){var c=0,d=TurengHelper.createElement("div",{"class":"translate-table-container"});for(var e in a){var f=TurengHelper.createElement("div",{"class":"translate-table-header",html:e});d.appendChild(f);var g=TurengHelper.createElement("div",{"class":"translate-table-content"});d.appendChild(g),a[e].forEach(function(a){c++,g.appendChild(b.renderRow(c,a))})}b.content.appendChild(d)})},a.prototype.render=function(a,b,c){return this.empty(),this.renderTitle(a,b),this.renderContent(c),this},a.prototype.appendTo=function(a){a.appendChild(this.modal)},a.prototype.remove=function(){TurengHelper.removeElement(this.modal)},a.prototype.empty=function(){TurengHelper.removeChildren(this.title),TurengHelper.removeChildren(this.content)},window.TurengModal=a}(),function(){function a(){this.opened=!1,this.overlay=TurengHelper.createElement("div",{"class":b.overlay,tabindex:"0"}),this.container=TurengHelper.createElement("div",{"class":b.container}),this.overlay.appendChild(this.container),this.content=TurengHelper.createElement("div",{"class":b.content}),this.container.appendChild(this.content),document.body.appendChild(this.overlay)}var b={overlay:"translate-overlay-wrapper",visible:"visible-translate-overlay-wrapper",container:"translate-overlay-container",content:"translate-overlay-content",opened:"translate-overlay-opened"};a.prototype.getContext=function(){return this.overlay},a.prototype.getContent=function(){return this.content},a.prototype.isOpened=function(){return this.opened},a.prototype.hide=function(){return document.documentElement.classList.remove(b.opened),document.body.classList.remove(b.opened),this.overlay.classList.remove(b.visible),this.overlay.blur(),this.opened=!1,this},a.prototype.show=function(){return document.documentElement.classList.add(b.opened),document.body.classList.add(b.opened),this.overlay.classList.add(b.visible),this.overlay.focus(),this.opened=!0,this},a.prototype.empty=function(){return TurengHelper.removeChildren(this.content),this},window.TurengOverlay=a}(),function(){var a,b=new TurengButton,c=new TurengOverlay,d=new TurengDialog,e=new TurengModal,f=function(){e.empty(),d.empty(),c.empty().hide()};b.getContext().addEventListener("mouseup",function(a){a.stopPropagation()}),b.getContext().addEventListener("click",function(f){f.preventDefault(),f.stopPropagation(),b.hide(),c.show(),d.loading().appendTo(c.getContent()),chrome.runtime.sendMessage({selectedText:a},function(b){if(d.remove(),200!==b.status)d.message("Bir şeyler yolunda gitmedi.").appendTo(c.getContent());else{var f=(new DOMParser).parseFromString(b.responseText,"text/html"),g=f.getElementsByClassName("searchResultsTable"),h=0,i=[];Array.prototype.slice.call(g).forEach(function(a){var b={};Array.prototype.slice.call(a.querySelectorAll("tr")).forEach(function(a){var c,d=a.querySelector("td[lang=en]"),e=a.querySelector("td[lang=tr]");if(d&&e){var f=Array.prototype.indexOf.call(d.parentNode.children,d),g=Array.prototype.indexOf.call(e.parentNode.children,e),i={},j=d.querySelector("a");j.setAttribute("target","_blank"),j.setAttribute("href","http://tureng.com"+j.getAttribute("href"));var k=e.querySelector("a");k.setAttribute("target","_blank"),k.setAttribute("href","http://tureng.com"+k.getAttribute("href")),g>f?(c=d.previousElementSibling,i.first=j.outerHTML,i.second=k.outerHTML):(c=e.previousElementSibling,i.first=k.outerHTML,i.second=j.outerHTML),i.purpose=d.querySelector("i").innerText;var l=c.innerText.trim();b.hasOwnProperty(l)||(b[l]=new Array),b[l].push(i),h++}}),i.push(b)}),h?e.render(a,h,i).appendTo(c.getContent()):d.message("Hiçbir sonuç bulunamadı.").appendTo(c.getContent())}})}),c.getContext().addEventListener("click",function(a){a.stopPropagation(),f()}),c.getContext().addEventListener("keydown",function(a){a.stopPropagation(),27==a.keyCode&&f()}),c.getContext().addEventListener("keyup",function(a){a.stopPropagation()}),e.getContext().addEventListener("click",function(a){a.stopPropagation()}),d.getContext().addEventListener("click",function(a){a.stopPropagation()}),document.addEventListener("mouseup",function(){if(!c.isOpened()){var d=window.getSelection();if(a=d.toString().trim(),a.length){var e=d.getRangeAt(0),f=e.getClientRects();if(f.length)return void b.move(f).show()}b.hide()}})}();